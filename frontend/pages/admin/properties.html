<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Hệ thống quản lý bất động sản dành cho admin">
    <title>Quản lý bất động sản - Admin</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link href="../../assets/css/admin.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse">
                <div class="position-sticky pt-3">
                    <div class="text-center mb-4">
                        <img src="../../assets/images/logo.png" alt="Logo quản trị hệ thống" height="40">
                        <h5 class="text-white mt-2">Quản trị hệ thống</h5>
                    </div>
                </ul>
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link" href="./dashboard.html">
                            <i class="bi bi-speedometer2 me-2"></i>
                            Tổng quan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./properties.html">
                            <i class="bi bi-house me-2"></i>
                            Quản lý bất động sản
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./orders.html">
                            <i class="bi bi-cart me-2"></i>
                            Quản lý giao dịch mua bán
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./sales-rentals.html">
                            <i class="bi bi-key me-2"></i>
                            Quản lý giao dịch cho thuê
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./payments.html">
                            <i class="bi bi-credit-card me-2"></i>
                            Quản lý thanh toán
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./users.html">
                            <i class="bi bi-people me-2"></i>
                            Quản lý người dùng
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./realtors.html">
                            <i class="bi bi-person-badge me-2"></i>
                            Quản lý môi giới
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="./setting.html">
                            <i class="bi bi-gear me-2"></i>
                            Cài đặt
                        </a>
                    </li>
                </ul>
                </div>
            </nav>

            <!-- Main Content -->
            <main class="col-md-9 col-lg-10 ms-sm-auto px-md-4">
                <!-- Toggle Sidebar Button (Mobile) -->
                <button class="btn btn-dark d-md-none mb-3" type="button" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-expanded="false" aria-controls="sidebar">
                    <i class="bi bi-list"></i> Menu
                </button>

                <!-- Header -->
                <header class="d-flex justify-content-between align-items-center mb-4">
                    <h2>Quản lý bất động sản</h2>
                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addPropertyModal">
                        <i class="bi bi-plus-circle me-2"></i> Thêm bất động sản
                    </button>
                </header>

                <!-- Filters -->
                <section class="card mb-4">
                    <div class="card-body">
                        <form class="row g-3" id="filterForm">
                            <div class="col-md-3">
                                <label for="searchInput" class="form-label">Tìm kiếm</label>
                                <input type="text" class="form-control" id="searchInput" placeholder="Tên, địa chỉ..." aria-describedby="searchInputHelp">
                                <small id="searchInputHelp" class="form-text text-muted">Nhập tên hoặc địa chỉ bất động sản</small>
                            </div>
                            <div class="col-md-2">
                                <label for="typeFilter" class="form-label">Loại</label>
                                <select class="form-select" id="typeFilter" aria-label="Lọc theo loại bất động sản">
                                    <option value="">Tất cả</option>
                                    <option value="apartment">Căn hộ</option>
                                    <option value="house">Nhà phố</option>
                                    <option value="villa">Biệt thự</option>
                                    <option value="land">Đất nền</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label for="statusFilter" class="form-label">Trạng thái</label>
                                <select class="form-select" id="statusFilter" aria-label="Lọc theo trạng thái">
                                    <option value="">Tất cả</option>
                                    <option value="active">Đang bán</option>
                                    <option value="pending">Chờ duyệt</option>
                                    <option value="sold">Đã bán</option>
                                </select>
                            </div>
                            <div class="col-md-2">
                                <label for="priceFilter" class="form-label">Giá</label>
                                <select class="form-select" id="priceFilter" aria-label="Lọc theo giá">
                                    <option value="">Tất cả</option>
                                    <option value="1-2">1-2 tỷ</option>
                                    <option value="2-5">2-5 tỷ</option>
                                    <option value="5-10">5-10 tỷ</option>
                                    <option value="10+">Trên 10 tỷ</option>
                                </select>
                            </div>
                            <div class="col-md-3 d-flex gap-2 align-items-center">
                                <button type="submit" class="btn btn-primary btn-sm w-100">
                                    <i class="bi bi-search me-2"></i> Lọc
                                </button>
                                <button type="reset" class="btn btn-outline-secondary btn-sm" aria-label="Xóa bộ lọc">
                                    <i class="bi bi-x"></i>
                                </button>
                            </div>
                            
                            
                        </form>
                    </div>
                </section>

                <!-- Properties Table -->
                <section class="card">
                    <div class="card-body">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div class="d-flex align-items-center">
                                <label for="rowsPerPage" class="form-label me-2">Hiển thị:</label>
                                <select id="rowsPerPage" class="form-select w-auto" aria-label="Số dòng mỗi trang">
                                    <option value="10">10</option>
                                    <option value="25">25</option>
                                    <option value="50">50</option>
                                </select>
                            </div>
                        </div>
                        <div class="table-responsive">
                            <table class="table table-striped table-hover" aria-label="Danh sách bất động sản">
                                <thead>
                                    <tr>
                                        <th scope="col">ID <i class="bi bi-sort-alpha-down"></i></th>
                                        <th scope="col">Hình ảnh</th>
                                        <th scope="col">Tên</th>
                                        <th scope="col">Địa chỉ</th>
                                        <th scope="col">Giá</th>
                                        <th scope="col">Loại</th>
                                        <th scope="col">Trạng thái</th>
                                        <th scope="col">Ngày đăng</th>
                                        <th scope="col">Thao tác</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>#P001</td>
                                        <td>
                                            <img src="../../assets/images/property1.jpg" alt="Căn hộ cao cấp Quận 1" class="property-image img-thumbnail" width="50">
                                        </td>
                                        <td>Căn hộ cao cấp Quận 1</td>
                                        <td>123 Đường ABC, Quận 1, TP.HCM</td>
                                        <td>2.500.000.000 VNĐ</td>
                                        <td>Căn hộ</td>
                                        <td><span class="badge bg-success">Đang bán</span></td>
                                        <td>15/04/2024</td>
                                        <td>
                                            <div class="btn-group" role="group" aria-label="Thao tác với bất động sản">
                                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editPropertyModal" aria-label="Chỉnh sửa bất động sản">
                                                    <i class="bi bi-pencil"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-danger" aria-label="Xóa bất động sản">
                                                    <i class="bi bi-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>#P002</td>
                                        <td>
                                            <img src="../../assets/images/property2.jpg" alt="Nhà phố Thủ Đức" class="property-image img-thumbnail" width="50">
                                        </td>
                                        <td>Nhà phố Thủ Đức</td>
                                        <td>456 Đường XYZ, Thủ Đức, TP.HCM</td>
                                        <td>3.200.000.000 VNĐ</td>
                                        <td>Nhà phố</td>
                                        <td><span class="badge bg-warning text-dark">Chờ duyệt</span></td>
                                        <td>16/04/2024</td>
                                        <td>
                                            <div class="btn-group" role="group" aria-label="Thao tác với bất động sản">
                                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editPropertyModal" aria-label="Chỉnh sửa bất động sản">
                                                    <i class="bi bi-pencil"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-danger" aria-label="Xóa bất động sản">
                                                    <i class="bi bi-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>#P003</td>
                                        <td>
                                            <img src="../../assets/images/property3.jpg" alt="Biệt thự Bình Thạnh" class="property-image img-thumbnail" width="50">
                                        </td>
                                        <td>Biệt thự Bình Thạnh</td>
                                        <td>789 Đường DEF, Bình Thạnh, TP.HCM</td>
                                        <td>5.800.000.000 VNĐ</td>
                                        <td>Biệt thự</td>
                                        <td><span class="badge bg-danger">Đã bán</span></td>
                                        <td>10/04/2024</td>
                                        <td>
                                            <div class="btn-group" role="group" aria-label="Thao tác với bất động sản">
                                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editPropertyModal" aria-label="Chỉnh sửa bất động sản">
                                                    <i class="bi bi-pencil"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-danger" aria-label="Xóa bất động sản">
                                                    <i class="bi bi-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>#P004</td>
                                        <td>
                                            <img src="../../assets/images/property1.jpg" alt="Đất nền Long An" class="property-image img-thumbnail" width="50">
                                        </td>
                                        <td>Đất nền Long An</td>
                                        <td>321 Đường GHI, Long An</td>
                                        <td>1.200.000.000 VNĐ</td>
                                        <td>Đất nền</td>
                                        <td><span class="badge bg-success">Đang bán</span></td>
                                        <td>18/04/2024</td>
                                        <td>
                                            <div class="btn-group" role="group" aria-label="Thao tác với bất động sản">
                                                <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#editPropertyModal" aria-label="Chỉnh sửa bất động sản">
                                                    <i class="bi bi-pencil"></i>
                                                </button>
                                                <button class="btn btn-sm btn-outline-danger" aria-label="Xóa bất động sản">
                                                    <i class="bi bi-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Pagination -->
                        <nav aria-label="Phân trang danh sách bất động sản" class="mt-4">
                            <ul class="pagination justify-content-center">
                                <li class="page-item disabled">
                                    <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Trước</a>
                                </li>
                                <li class="page-item active" aria-current="page">
                                    <a class="page-link" href="#">1</a>
                                </li>
                                <li class="page-item">
                                    <a class="page-link" href="#">2</a>
                                </li>
                                <li class="page-item">
                                    <a class="page-link" href="#">3</a>
                                </li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Sau</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Add Property Modal -->
    <div class="modal fade" id="addPropertyModal" tabindex="-1" aria-labelledby="addPropertyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addPropertyModalLabel">Thêm bất động sản mới</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="addPropertyForm" novalidate>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="propertyName" class="form-label">Tên bất động sản</label>
                                <input type="text" class="form-control" id="propertyName" required>
                                <div class="invalid-feedback">Vui lòng nhập tên bất động sản.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="propertyType" class="form-label">Loại bất động sản</label>
                                <select class="form-select" id="propertyType" required>
                                    <option value="" disabled selected>Chọn loại</option>
                                    <option value="apartment">Căn hộ</option>
                                    <option value="house">Nhà phố</option>
                                    <option value="villa">Biệt thự</option>
                                    <option value="land">Đất nền</option>
                                </select>
                                <div class="invalid-feedback">Vui lòng chọn loại bất động sản.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="propertyPrice" class="form-label">Giá (VNĐ)</label>
                                <input type="number" class="form-control" id="propertyPrice" required min="0">
                                <div class="invalid-feedback">Giá phải lớn hơn hoặc bằng 0.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="propertyStatus" class="form-label">Trạng thái</label>
                                <select class="form-select" id="propertyStatus" required>
                                    <option value="" disabled selected>Chọn trạng thái</option>
                                    <option value="active">Đang bán</option>
                                    <option value="pending">Chờ duyệt</option>
                                    <option value="sold">Đã bán</option>
                                </select>
                                <div class="invalid-feedback">Vui lòng chọn trạng thái.</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="propertyAddress" class="form-label">Địa chỉ</label>
                            <input type="text" class="form-control" id="propertyAddress" required>
                            <div class="invalid-feedback">Vui lòng nhập địa chỉ.</div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <label for="propertyArea" class="form-label">Diện tích (m²)</label>
                                <input type="number" class="form-control" id="propertyArea" required min="0">
                                <div class="invalid-feedback">Diện tích phải lớn hơn hoặc bằng 0.</div>
                            </div>
                            <div class="col-md-4">
                                <label for="propertyBedrooms" class="form-label">Số phòng ngủ</label>
                                <input type="number" class="form-control" id="propertyBedrooms" min="0">
                            </div>
                            <div class="col-md-4">
                                <label for="propertyBathrooms" class="form-label">Số phòng tắm</label>
                                <input type="number" class="form-control" id="propertyBathrooms" min="0">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="propertyDescription" class="form-label">Mô tả</label>
                            <textarea class="form-control" id="propertyDescription" rows="4" required></textarea>
                            <div class="invalid-feedback">Vui lòng nhập mô tả.</div>
                        </div>
                        <div class="mb-3">
                            <label for="propertyImages" class="form-label">Hình ảnh</label>
                            <input type="file" class="form-control" id="propertyImages" multiple accept="image/*">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-primary" onclick="validateAddPropertyForm()">Lưu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Property Modal -->
    <div class="modal fade" id="editPropertyModal" tabindex="-1" aria-labelledby="editPropertyModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editPropertyModalLabel">Chỉnh sửa bất động sản</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editPropertyForm" novalidate>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="editPropertyName" class="form-label">Tên bất động sản</label>
                                <input type="text" class="form-control" id="editPropertyName" value="Căn hộ cao cấp Quận 1" required>
                                <div class="invalid-feedback">Vui lòng nhập tên bất động sản.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="editPropertyType" class="form-label">Loại bất động sản</label>
                                <select class="form-select" id="editPropertyType" required>
                                    <option value="apartment" selected>Căn hộ</option>
                                    <option value="house">Nhà phố</option>
                                    <option value="villa">Biệt thự</option>
                                    <option value="land">Đất nền</option>
                                </select>
                                <div class="invalid-feedback">Vui lòng chọn loại bất động sản.</div>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="editPropertyPrice" class="form-label">Giá (VNĐ)</label>
                                <input type="number" class="form-control" id="editPropertyPrice" value="2500000000" required min="0">
                                <div class="invalid-feedback">Giá phải lớn hơn hoặc bằng 0.</div>
                            </div>
                            <div class="col-md-6">
                                <label for="editPropertyStatus" class="form-label">Trạng thái</label>
                                <select class="form-select" id="editPropertyStatus" required>
                                    <option value="active" selected>Đang bán</option>
                                    <option value="pending">Chờ duyệt</option>
                                    <option value="sold">Đã bán</option>
                                </select>
                                <div class="invalid-feedback">Vui lòng chọn trạng thái.</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editPropertyAddress" class="form-label">Địa chỉ</label>
                            <input type="text" class="form-control" id="editPropertyAddress" value="123 Đường ABC, Quận 1, TP.HCM" required>
                            <div class="invalid-feedback">Vui lòng nhập địa chỉ.</div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-4">
                                <label for="editPropertyArea" class="form-label">Diện tích (m²)</label>
                                <input type="number" class="form-control" id="editPropertyArea" value="100" required min="0">
                                <div class="invalid-feedback">Diện tích phải lớn hơn hoặc bằng 0.</div>
                            </div>
                            <div class="col-md-4">
                                <label for="editPropertyBedrooms" class="form-label">Số phòng ngủ</label>
                                <input type="number" class="form-control" id="editPropertyBedrooms" value="3" min="0">
                            </div>
                            <div class="col-md-4">
                                <label for="editPropertyBathrooms" class="form-label">Số phòng tắm</label>
                                <input type="number" class="form-control" id="editPropertyBathrooms" value="2" min="0">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="editPropertyDescription" class="form-label">Mô tả</label>
                            <textarea class="form-control" id="editPropertyDescription" rows="4" required>Căn hộ cao cấp nằm tại vị trí đắc địa, gần các tiện ích quan trọng. Thiết kế hiện đại, tiện nghi với đầy đủ nội thất cao cấp. Hệ thống an ninh 24/7, bảo vệ chuyên nghiệp.</textarea>
                            <div class="invalid-feedback">Vui lòng nhập mô tả.</div>
                        </div>
                        <div class="mb-3">
                            <label for="editPropertyImages" class="form-label">Hình ảnh</label>
                            <input type="file" class="form-control" id="editPropertyImages" multiple accept="image/*">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                    <button type="button" class="btn btn-primary" onclick="validateEditPropertyForm()">Lưu thay đổi</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer bg-light py-3">
        <div class="container text-center">
            <span>© 2025 Hệ thống quản lý bất động sản. All rights reserved.</span>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../../assets/js/admin.js"></script>
</body>
</html>